@startuml
title PeggedPriceOracle 시퀀스 다이어그램

actor User
participant "PeggedPriceOracle" as PPO

note over User, PPO
  상황: 자산 가격 조회 시
  목적: 고정된 가격(1:1) 반환
end note

User -> PPO: getPrice(asset)
activate PPO
PPO -> PPO: _priceData()
note right: 고정 가격 데이터 생성
PPO --> User: data
deactivate PPO

note over User, PPO
  상황: 안전하지 않은 가격 조회 시
  목적: 고정된 가격(1:1) 반환
end note

User -> PPO: getPriceUnsafe(asset)
activate PPO
PPO -> PPO: _priceData()
note right: 고정 가격 데이터 생성
PPO --> User: data
deactivate PPO

note over User, PPO
  상황: 특정 시간 이내 가격 조회 시
  목적: 고정된 가격(1:1) 반환
end note

User -> PPO: getPriceNoOlderThan(asset, age)
activate PPO
PPO -> PPO: _priceData()
note right: 고정 가격 데이터 생성
PPO --> User: data
deactivate PPO

note over User, PPO
  상황: 가격 가용성 확인 시
  목적: 항상 true 반환
end note

User -> PPO: priceAvailable(asset)
activate PPO
PPO --> User: true
deactivate PPO

@enduml 
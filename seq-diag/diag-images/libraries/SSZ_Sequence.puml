@startuml
title SSZ 시퀀스 다이어그램

actor User
participant "SSZ" as SSZ
participant "Utils" as U

note over User, SSZ
  상황: SSZ 해시 트리 루트 생성 시
  목적: 데이터의 SSZ 해시 트리 루트 생성
end note

User -> SSZ: hashTreeRoot(data)
activate SSZ
SSZ -> U: hash(data)
activate U
U --> SSZ: hashedData
deactivate U

SSZ -> SSZ: _computeHashTreeRoot(hashedData)
note right: 해시 트리 루트 계산
deactivate SSZ

note over User, SSZ
  상황: SSZ 서명 검증 시
  목적: SSZ 서명 검증
end note

User -> SSZ: verifySignature(data, signature, publicKey)
activate SSZ
SSZ -> U: recoverSigner(data, signature)
activate U
U --> SSZ: recoveredPublicKey
deactivate U

SSZ -> SSZ: _verifyPublicKey(recoveredPublicKey, publicKey)
note right: 공개키 검증
deactivate SSZ

@enduml 